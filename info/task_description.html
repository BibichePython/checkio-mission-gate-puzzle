<div class="story">
    <p>
        Aoccdrnig to a rscheearch at Cmabrigde Uinervtisy, it deosn't mttaer in waht oredr the ltteers in a wrod are,
        the olny iprmoetnt tihng is taht the frist and lsat ltteer be at the rghit pclae. The rset can be a toatl mses
        and you can sitll raed it wouthit porbelm. Tihs is bcuseae the huamn mnid deos not raed ervey lteter by istlef,
        but the wrod as a wlohe.<br>
        -- The source is unknown.
    </p>

    <p>
        "Ennyn Durin Aran Moria. Pedo mellon a Minno. Im Narvi hain echant. Celebrimbor o Eregion tethant. I thiw hin"<br>
        "The Doors of Durin, Lord of Moria. Speak friend and enter. I Narvi made them. Celebrimbor of Hollin drew these
        signs."<br>
        -- "The Fellowship of the Ring" J. R. Tolkien
    </p>
</div>

<p>
    The Doors of Durin was opened by Gandalf and the Fellowship entered in
    <a href="http://en.wikipedia.org/wiki/Moria_(Middle-earth)">Moria</a>.
    But in this underground kingdom is full by other gates.
    Each gate has written message which contains the key word.
    Lucky Gimli (he is dwarf if someone forget about this)
    knows how to recognize the key in these messages.
    It's the most "like" word, which has the greatest average "likeness" coefficient with other words in the message.
</p>

<p>
    You are given a message.
    You need to pick out all words (a consecutive sequence of letters or a single letter),
    calculate "likeness" coefficients with other words, take an average of them and choose the greatest.
    If several words has the same result value, then choose the last in the message from them.
    Words in the message can be separated by whitespaces and punctuation. There are no numbers.
</p>
<p>
    "Likeness" coefficient for two words is measured in percentages with the next rules:<br>
    - Letter case does not have matter ("A" == "a");<br>

    - If first letters of the words are equal, then add 10%;<br>

    - If last letters of the words are equal, then add 10%;<br>

    - Add length comparison as (length_of_word1&nbsp;/&nbsp;length_of_word2)&nbsp;*&nbsp;30%, where
    length_of_word1&nbsp;&le;&nbsp;length_of_word2;<br>

    - Take all unique letters from the both words in one set and
    count how many letters appear in the both words.
    Add to coefficient (common_letter_number&bnsp/unique_letters_numbers)&nbsp;*&nbsp;50;<br>

    So the maximum coefficient of likeness is 100%. For example for words "Bread" and "Beard".
    Count "likeness" coefficient even for the same word (of course it's 100).
</p>

<p>
    <strong>Input: </strong> A message as a string (unicode)
</p>

<p>
    <strong>Output: </strong> The keyword as a string.
</p>


<div class="for_info_only">
    <p>
        <strong>Example:</strong>
    </p>
    <pre class="brush: python">
find_word("Speak friend and enter.") == "friend"
    </pre>
</div>

<p class="for_info_only">
    <strong>How it is used: </strong>
    This is a fabricated algorithm can be modified and be used for linguistic researches.

</p>

<p>
    <strong>Precondition:</strong><br>
    0 &lt; len(message)<br>
    all(x in (string.ascii_letters + string.punctuation) for x in message)
</p>